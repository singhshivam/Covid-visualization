{"version":3,"sources":["Dashboard/RaceChart.js","../node_modules/react-bootstrap/es/utils/createChainedFunction.js","../node_modules/react-bootstrap/es/SafeAnchor.js","../node_modules/react-bootstrap/es/Button.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"],"names":["RaceChart","props","_this","Object","_home_shivam_code_covid_visualization_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_shivam_code_covid_visualization_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_shivam_code_covid_visualization_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","margin","top","right","bottom","left","width","height","state","data","leftPadding","colorMap","fetchCSV","bind","_home_shivam_code_covid_visualization_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","prepareData","drawChart","drawXAxis","drawBars","restartGraph","_this2","d3","concat","window","appURL","then","res","_this2$state","forEach","d","Country","Math","random","svg","append","attr","setState","reduce","accumulator","keys","k","date","Date","isNaN","newEntry","value","geoName","push","filter","i","arguments","length","undefined","sort","a","b","el","t","xScale","_this$state","axis","select","empty","transition","selectAll","delay","yScale","_this3","_this$state2","barsG","bars","yAccessor","exit","remove","enter","merge","xAccessor","bandwidth","style","_this4","_this$state3","years","map","lastYear","startIndex","startYear","selectedData","removeGeoAreasWithNoData","sortData","slice","range","domain","rangeRound","padding","geoAreas","text","drawYAxis","interval","duration","stop","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","react_bootstrap__WEBPACK_IMPORTED_MODULE_8__","md","xl","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","Body","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","variant","onClick","React","Component","utils_createChainedFunction","_len","funcs","Array","_key","f","acc","Error","_len2","args","_key2","apply","isTrivialHref","href","trim","SafeAnchor_SafeAnchor","_React$Component","SafeAnchor","context","handleClick","assertThisInitialized","handleKeyDown","inheritsLoose","_proto","prototype","event","_this$props","disabled","preventDefault","stopPropagation","key","render","_this$props2","as","onKeyDown","innerRef","objectWithoutPropertiesLoose","role","tabIndex","ref","react_default","esm_extends","defaultProps","es_SafeAnchor","Button_Button","Button","bsPrefix","size","active","block","type","classes","classnames_default","__webpack_exports__","ThemeProvider","prefix","forwardRefAs","_assertThisInitialized","self","ReferenceError","__webpack_require__"],"mappings":"+MAKMA,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,IAEN,IAAMQ,EAAS,CAAEC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDC,EAAQ,IAAML,EAAOI,KAAOJ,EAAOE,MACnCI,EAAS,IAAMN,EAAOC,IAAMD,EAAOG,OAL1B,OAQfV,EAAKc,MAAQ,CACTC,KAAM,GACNR,OAAQA,EACRK,MAAOA,EACPC,OAAQA,EACRG,YAPgB,EAQhBC,SAAU,IAEdjB,EAAKkB,SAAWlB,EAAKkB,SAASC,KAAdlB,OAAAmB,EAAA,EAAAnB,CAAAD,IAChBA,EAAKqB,YAAcrB,EAAKqB,YAAYF,KAAjBlB,OAAAmB,EAAA,EAAAnB,CAAAD,IACnBA,EAAKsB,UAAYtB,EAAKsB,UAAUH,KAAflB,OAAAmB,EAAA,EAAAnB,CAAAD,IACjBA,EAAKuB,UAAYvB,EAAKuB,UAAUJ,KAAflB,OAAAmB,EAAA,EAAAnB,CAAAD,IACjBA,EAAKwB,SAAWxB,EAAKwB,SAASL,KAAdlB,OAAAmB,EAAA,EAAAnB,CAAAD,IAChBA,EAAKyB,aAAezB,EAAKyB,aAAaN,KAAlBlB,OAAAmB,EAAA,EAAAnB,CAAAD,IArBLA,mFAyBfG,KAAKe,8CAGE,IAAAQ,EAAAvB,KACPwB,IAAA,GAAAC,OAAUC,OAAOC,OAAjB,kBACKC,KAAK,SAAAC,GAAO,IAAAC,EACyBP,EAAKZ,MAA/BD,EADCoB,EACDpB,OAAeN,GADd0B,EACOrB,MADPqB,EACc1B,QACnBQ,EAAOW,EAAKL,YAAYW,GACxBf,EAAW,GACfe,EAAIE,QAAQ,SAACC,GACTlB,EAASkB,EAAEC,SAAWT,IAAuB,IAAhBU,KAAKC,SAAgB,IAAM,OAE5D,IAAMC,EAAMZ,IAAU,UAAUa,OAAO,OAClCC,KAAK,QAAS,QACdA,KAAK,SAAU5B,EAASN,EAAOC,IAAMD,EAAOG,QAC5C8B,OAAO,KACPC,KAAK,YAJE,aAAAb,OAIwBrB,EAAOI,KAJ/B,KAAAiB,OAIuCrB,EAAOC,IAJ9C,MAKZkB,EAAKgB,SAAS,CAAE3B,KAAMA,EAAME,SAAUA,EAAUsB,IAAKA,IACrDb,EAAKJ,kDAILP,GAIR,OAAOA,EAAK4B,OAAO,SAACC,EAAaT,GAc7B,OAbAlC,OAAO4C,KAAKV,GAAGD,QAAQ,SAACY,GACpB,GALMC,EAKMD,EAJW,iBAAnB,IAAIE,KAAKD,KAA6BE,MAAM,IAAID,KAAKD,IAIzD,CALK,IAACA,EAOAG,EAAW,CACbC,OAFShB,EAAEW,GAGXM,QAASjB,EAAEC,SAEXQ,EAAYE,GACZF,EAAYE,GAAGO,KAAKH,GAEpBN,EAAYE,GAAK,CAACI,MAGnBN,GACR,qDAGkB7B,GACrB,OAAOA,EAAKuC,OAAO,SAAAnB,GAAC,OAAIA,EAAEgB,0CAGpBhB,GACN,OAAOA,EAAEgB,wCAGHhB,GACN,OAAOA,EAAEiB,sCAGPjB,EAAGoB,GACL,OAAW,EAAJA,qCAIP,OADgBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IACAG,KAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEV,MAAQS,EAAET,0CAGjCW,EAAI/C,EAAMgD,EAAGC,GAAQ,IAAAC,EACK9D,KAAKW,MAA7BE,EADmBiD,EACnBjD,YAAaH,EADMoD,EACNpD,OACjBqD,EAAOJ,EAAGK,OAAO,YACjBD,EAAKE,UACLF,EAAOJ,EAAGtB,OAAO,KACZC,KAAK,QAAS,gBACdA,KAAK,YAFH,aAAAb,OAE6BZ,EAF7B,KAAAY,OAE4Cf,EAF5C,OAIXqD,EAAKG,WAAWN,GACXzD,KAAKqB,IAAcqC,IACnBM,UAAU,KACVC,MAAMpE,KAAKoE,yCAGVT,EAAI/C,EAAMgD,EAAGS,GACnB,IAAIN,EAAOJ,EAAGK,OAAO,YACjBD,EAAKE,UACLF,EAAOJ,EAAGtB,OAAO,KACZC,KAAK,QAAS,iBAGvByB,EAAKG,WAAWN,GACXzD,KAAKqB,IAAY6C,IACjBF,UAAU,KACVC,MAAMpE,KAAKoE,wCAGXT,EAAI/C,EAAMgD,EAAGC,EAAQQ,GAAQ,IAAAC,EAAAtE,KAAAuE,EACAvE,KAAKW,MAA/BE,EAD0B0D,EAC1B1D,YAAaC,EADayD,EACbzD,SACjB0D,EAAQb,EAAGK,OAAO,WAClBQ,EAAMP,UACNO,EAAQb,EAAGtB,OAAO,KACbC,KAAK,QAAS,WAEvB,IAAMmC,EAAOD,EACRL,UAAU,QACVvD,KAAKA,EAAMZ,KAAK0E,WACrBD,EAAKE,OACAC,SACLH,EAAKI,QACAxC,OAAO,QACPC,KAAK,QAAS,OACdA,KAAK,IAAKzB,GACViE,MAAML,GAAMP,WAAWN,GACvBtB,KAAK,IAAK,SAAAN,GAAC,OAAIqC,EAAOC,EAAKI,UAAU1C,MACrCM,KAAK,QAAS,SAAAN,GAAC,OAAI6B,EAAOS,EAAKS,UAAU/C,MACzCM,KAAK,SAAU+B,EAAOW,aACtBC,MAAM,OAAQ,SAAAjD,GAAC,OAAIlB,EAASkB,EAAEiB,WAC9BmB,MAAMpE,KAAKoE,2CAIR,IAAAc,EAAAlF,KAAAmF,EACqCnF,KAAKW,MAA1CC,EADAuE,EACAvE,KAAMF,EADNyE,EACMzE,OAAQD,EADd0E,EACc1E,MAAe2B,GAD7B+C,EACqB/E,OADrB+E,EAC6B/C,KACrC,GAAKA,EAAL,CACA,IAAMgD,EAAQtF,OAAO4C,KAAK9B,GAAMyE,IAAI,SAAArD,GAAC,OAAIA,IACnCsD,EAAWF,EAAMA,EAAM9B,OAAS,GAEtClB,EAAI+B,UAAU,KAAKS,SAEnB,IAAIW,EAAa,EACbC,EAAYJ,EAAM,GAClBK,EAAezF,KAAK0F,yBAAyB1F,KAAK2F,SAAS/E,EAAK4E,KAAaI,MAAM,EAAG,IACtF/B,EAASrC,MACRqE,MAAM,CAAC,EAAGpF,IACVqF,OAAO,CAAC,EAAGtE,IAAOiE,EAAaJ,IAAI,SAAArD,GAAC,OAAIA,EAAEgB,WAE3CqB,EAAS7C,MACRsE,OAAOtE,IAAS,KAChBuE,WAAW,CAAC,EAAGrF,IACfsF,QAAQ,IACTC,EAAWR,EAAaJ,IAAIrF,KAAK0E,WAErClD,IAAU,SAAS0E,KAAKV,EAAUI,MAAM,EAAG,KAE3CvB,EAAOyB,OAAOG,GACdjG,KAAKoB,UAAUgB,EAAKqD,OAAclC,EAAWM,GAC7C7D,KAAKmG,UAAU/D,EAAKqD,OAAclC,EAAWc,GAC7CrE,KAAKqB,SAASe,EAAKqD,OAAclC,EAAWM,EAAQQ,GACpD,IAAM+B,EAAW5E,IAAY,WACzB,IAAMoC,EAAIpC,MAAgB6E,SAAS,KAEnCd,GAAc,EACdE,EAAeP,EAAKQ,yBAAyBR,EAAKS,SAAS/E,EAAKwE,EAAMG,MAAeK,MAAM,EAAG,IAE9FpE,IAAU,SAAS0E,KAAKd,EAAMG,GAAYK,MAAM,EAAG,KAEnD/B,EAAOiC,OAAO,CAAC,EAAGtE,IAAOiE,EAAaJ,IAAI,SAAArD,GAAC,OAAIA,EAAEgB,WACjDqB,EAAOyB,OAAOL,EAAaJ,IAAIH,EAAKR,YACpCQ,EAAK9D,UAAUgB,EAAKqD,EAAc7B,EAAGC,GACrCqB,EAAKiB,UAAU/D,EAAKqD,EAAc7B,EAAGS,GACrCa,EAAK7D,SAASe,EAAKqD,EAAc7B,EAAGC,EAAQQ,GAExCe,EAAMG,KAAgBD,GACtBc,EAASE,QAEd,KACHtG,KAAKuC,SAAS,CAAE6D,SAAUA,4CAIf,IACHA,EAAapG,KAAKW,MAAlByF,SACJA,IACAA,EAASE,OACTtG,KAAKmB,8CAKT,OACIoF,EAAA9C,EAAA+C,cAACC,EAAA,EAAD,KACIF,EAAA9C,EAAA+C,cAACE,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,IACbL,EAAA9C,EAAA+C,cAACK,EAAA,EAAD,KACIN,EAAA9C,EAAA+C,cAACK,EAAA,EAAKC,KAAN,KACIP,EAAA9C,EAAA+C,cAAA,MAAIO,UAAU,QAAd,gDAGAR,EAAA9C,EAAA+C,cAACC,EAAA,EAAD,KACIF,EAAA9C,EAAA+C,cAACE,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,IACbL,EAAA9C,EAAA+C,cAACE,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACZL,EAAA9C,EAAA+C,cAAA,MAAIO,UAAU,eAAd,SAAkCR,EAAA9C,EAAA+C,cAAA,QAAMO,UAAU,WAEtDR,EAAA9C,EAAA+C,cAACE,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACZL,EAAA9C,EAAA+C,cAACQ,EAAA,EAAD,CAAQC,QAAQ,kBAAkBC,QAASlH,KAAKsB,cAAhD,WAA+E,OAI3FiF,EAAA9C,EAAA+C,cAAA,OAAKO,UAAU,WAEfR,EAAA9C,EAAA+C,cAAA,OAAKO,UAAU,WACXR,EAAA9C,EAAA+C,cAAA,OAAKO,UAAU,UACfR,EAAA9C,EAAA+C,cAAA,KAAGO,UAAU,UAAb,2CA9NRI,IAAMC,WAyOfzH,2HC7MA,IAAA0H,EAxBf,WACA,QAAAC,EAAAjE,UAAAC,OAAAiE,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAsEA,EAAAH,EAAaG,IACnFF,EAAAE,GAAApE,UAAAoE,GAGA,OAAAF,EAAApE,OAAA,SAAAuE,GACA,aAAAA,IACGlF,OAAA,SAAAmF,EAAAD,GACH,uBAAAA,EACA,UAAAE,MAAA,2EAGA,cAAAD,EAAAD,EACA,WACA,QAAAG,EAAAxE,UAAAC,OAAAwE,EAAA,IAAAN,MAAAK,GAAAE,EAAA,EAA4EA,EAAAF,EAAeE,IAC3FD,EAAAC,GAAA1E,UAAA0E,GAGAJ,EAAAK,MAAAhI,KAAA8H,GACAJ,EAAAM,MAAAhI,KAAA8H,KAEG,OCpBH,SAAAG,EAAAC,GACA,OAAAA,GAAA,MAAAA,EAAAC,OAWA,IAAIC,EAEJ,SAAAC,GAGA,SAAAC,EAAA1I,EAAA2I,GACA,IAAA1I,EAKA,OAHAA,EAAAwI,EAAAlI,KAAAH,KAAAJ,EAAA2I,IAAAvI,MACAwI,YAAA3I,EAAA2I,YAAAxH,KAA+ClB,OAAA2I,EAAA,EAAA3I,CAAuBA,OAAA2I,EAAA,EAAA3I,CAAsBD,KAC5FA,EAAA6I,cAAA7I,EAAA6I,cAAA1H,KAAmDlB,OAAA2I,EAAA,EAAA3I,CAAuBA,OAAA2I,EAAA,EAAA3I,CAAsBD,KAChGA,EAREC,OAAA6I,EAAA,EAAA7I,CAAcwI,EAAAD,GAWhB,IAAAO,EAAAN,EAAAO,UAwDA,OAtDAD,EAAAJ,YAAA,SAAAM,GACA,IAAAC,EAAA/I,KAAAJ,MACAoJ,EAAAD,EAAAC,SACAd,EAAAa,EAAAb,KACAhB,EAAA6B,EAAA7B,SAEA8B,GAAAf,EAAAC,KACAY,EAAAG,iBAGAD,EACAF,EAAAI,kBAIAhC,GACAA,EAAA4B,IAIAF,EAAAF,cAAA,SAAAI,GACA,MAAAA,EAAAK,MACAL,EAAAG,iBACAjJ,KAAAwI,YAAAM,KAIAF,EAAAQ,OAAA,WACA,IAAAC,EAAArJ,KAAAJ,MACAwH,EAAAiC,EAAAC,GACAN,EAAAK,EAAAL,SACAO,EAAAF,EAAAE,UACAC,EAAAH,EAAAG,SACA5J,EAAgBE,OAAA2J,EAAA,EAAA3J,CAA6BuJ,EAAA,0CAe7C,OAbApB,EAAArI,EAAAsI,QACAtI,EAAA8J,KAAA9J,EAAA8J,MAAA,SAGA9J,EAAAsI,KAAAtI,EAAAsI,MAAA,KAGAc,IACApJ,EAAA+J,UAAA,EACA/J,EAAA,qBAGA4J,IAAA5J,EAAAgK,IAAAJ,GACWK,EAAApG,EAAK+C,cAAAY,EAA0BtH,OAAAgK,EAAA,EAAAhK,CAAQ,GAAGF,EAAA,CACrDsH,QAAAlH,KAAAwI,YACAe,UAAiBlC,EAAqBrH,KAAA0I,cAAAa,OAItCjB,EApEA,CAqEEuB,EAAApG,EAAK2D,WAEPgB,EAAU2B,aAzFV,CACAT,GAAA,KAyFe,IAAAU,EAAA,ECxFXC,EAEJ,SAAA5B,GAGA,SAAA6B,IACA,OAAA7B,EAAAL,MAAAhI,KAAAqD,YAAArD,KAoCA,OAvCEF,OAAA6I,EAAA,EAAA7I,CAAcoK,EAAA7B,GAMhB6B,EAAArB,UAEAO,OAAA,WACA,IAAAL,EAAA/I,KAAAJ,MACAuK,EAAApB,EAAAoB,SACAlD,EAAA8B,EAAA9B,QACAmD,EAAArB,EAAAqB,KACAC,EAAAtB,EAAAsB,OACAtD,EAAAgC,EAAAhC,UACAuD,EAAAvB,EAAAuB,MACAC,EAAAxB,EAAAwB,KACAjB,EAAAP,EAAAO,GACAE,EAAAT,EAAAS,SACA5J,EAAgBE,OAAA2J,EAAA,EAAA3J,CAA6BiJ,EAAA,mFAE7CyB,EAAkBC,IAAU1D,EAAAoD,EAAAE,GAAA,SAAAF,EAAA,IAAAlD,EAAAqD,GAAAH,EAAA,SAAAC,GAAAD,EAAA,IAAAC,GAE5B,GAAAxK,EAAAsI,KACA,OAAa2B,EAAApG,EAAK+C,cAAewD,EAAYlK,OAAAgK,EAAA,EAAAhK,CAAQ,GAAGF,EAAA,CACxD0J,KACAE,WACAzC,UAAmB0D,IAAUD,EAAA5K,EAAAoJ,UAAA,eAI7B,IAAA5B,EAAAkC,GAAA,SAEA,OADAE,IAAA5J,EAAAgK,IAAAJ,GACWK,EAAApG,EAAK+C,cAAAY,EAA0BtH,OAAAgK,EAAA,EAAAhK,CAAQ,GAAGF,EAAA,CACrD2K,OACAxD,UAAAyD,MAIAN,EAxCA,CAyCEL,EAAApG,EAAK2D,WAEP6C,EAAMF,aAAA,CACN9C,QAAA,UACAoD,QAAA,EACArB,UAAA,EACAuB,KAAA,UAEeG,EAAA,EAAA5K,OAAA6K,EAAA,GAAyBV,EAAM,CAC9CW,OAAA,MACAC,aAAA,8CC7De,SAAAC,EAAAC,GACf,YAAAA,EACA,UAAAC,eAAA,6DAGA,OAAAD,EALAE,EAAAjJ,EAAA0I,EAAA,sBAAAI","file":"static/js/11.82e3d563.chunk.js","sourcesContent":["import React from 'react';\nimport { Row, Col, Card, Button } from 'react-bootstrap';\nimport * as d3 from 'd3'\n\n\nclass RaceChart extends React.Component {\n    constructor(props) {\n        super(props)\n\n        const margin = { top: 20, right: 30, bottom: 40, left: 100 }\n        const width = 960 - margin.left - margin.right\n        const height = 400 - margin.top - margin.bottom\n        const leftPadding = 5\n\n        this.state = {\n            data: {},\n            margin: margin,\n            width: width,\n            height: height,\n            leftPadding: leftPadding,\n            colorMap: {}\n        }\n        this.fetchCSV = this.fetchCSV.bind(this)\n        this.prepareData = this.prepareData.bind(this)\n        this.drawChart = this.drawChart.bind(this)\n        this.drawXAxis = this.drawXAxis.bind(this)\n        this.drawBars = this.drawBars.bind(this)\n        this.restartGraph = this.restartGraph.bind(this)\n    }\n\n    componentDidMount() {\n        this.fetchCSV()\n    }\n\n    fetchCSV() {\n        d3.csv(`${window.appURL}/animated.csv`)\n            .then(res => {\n                const { height, width, margin } = this.state\n                let data = this.prepareData(res)\n                let colorMap = {}\n                res.forEach((d) => {\n                    colorMap[d.Country] = d3.hsl(Math.random() * 360, 0.75, 0.75)\n                })\n                const svg = d3.select('.chart').append('svg')\n                    .attr('width', '100%')\n                    .attr('height', height + margin.top + margin.bottom)\n                    .append('g')\n                    .attr('transform', `translate(${margin.left},${margin.top})`)\n                this.setState({ data: data, colorMap: colorMap, svg: svg })\n                this.drawChart()\n            })\n    }\n\n    prepareData(data) {\n        let isDate = (date) => {\n            return (new Date(date) !== \"Invalid Date\" && !isNaN(new Date(date))) ? true : false\n        }\n        return data.reduce((accumulator, d) => {\n            Object.keys(d).forEach((k) => {\n                if (!isDate(k)) { return; }\n                let value = +d[k]\n                const newEntry = {\n                    value,\n                    geoName: d.Country,\n                }\n                if (accumulator[k]) {\n                    accumulator[k].push(newEntry)\n                } else {\n                    accumulator[k] = [newEntry]\n                }\n            })\n            return accumulator\n        }, {})\n    }\n\n    removeGeoAreasWithNoData(data) {\n        return data.filter(d => d.value)\n    }\n\n    xAccessor(d) {\n        return d.value\n    }\n\n    yAccessor(d) {\n        return d.geoName\n    }\n\n    delay(d, i) {\n        return i * 5\n    }\n\n    sortData(data = []) {\n        return data.sort((a, b) => b.value - a.value)\n    }\n\n    drawXAxis(el, data, t, xScale) {\n        const { leftPadding, height } = this.state\n        let axis = el.select('.axis--x')\n        if (axis.empty()) {\n            axis = el.append('g')\n                .attr('class', 'axis axis--x')\n                .attr('transform', `translate(${leftPadding},${height})`)\n        }\n        axis.transition(t)\n            .call(d3.axisBottom(xScale))\n            .selectAll('g')\n            .delay(this.delay)\n    }\n\n    drawYAxis(el, data, t, yScale) {\n        let axis = el.select('.axis--y')\n        if (axis.empty()) {\n            axis = el.append('g')\n                .attr('class', 'axis axis--y')\n        }\n\n        axis.transition(t)\n            .call(d3.axisLeft(yScale))\n            .selectAll('g')\n            .delay(this.delay)\n    }\n\n    drawBars(el, data, t, xScale, yScale) {\n        const { leftPadding, colorMap } = this.state\n        let barsG = el.select('.bars-g')\n        if (barsG.empty()) {\n            barsG = el.append('g')\n                .attr('class', 'bars-g')\n        }\n        const bars = barsG\n            .selectAll('.bar')\n            .data(data, this.yAccessor)\n        bars.exit()\n            .remove()\n        bars.enter()\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('x', leftPadding)\n            .merge(bars).transition(t)\n            .attr('y', d => yScale(this.yAccessor(d)))\n            .attr('width', d => xScale(this.xAccessor(d)))\n            .attr('height', yScale.bandwidth())\n            .style('fill', d => colorMap[d.geoName])\n            .delay(this.delay)\n    }\n\n\n    drawChart() {\n        const { data, height, width, margin, svg } = this.state\n        if (!svg) { return }\n        const years = Object.keys(data).map(d => d)\n        const lastYear = years[years.length - 1]\n\n        svg.selectAll(\"*\").remove()\n\n        let startIndex = 0\n        let startYear = years[0]\n        let selectedData = this.removeGeoAreasWithNoData(this.sortData(data[startYear])).slice(0, 10)\n        let xScale = d3.scaleLinear()\n            .range([0, width])\n            .domain([0, d3.max(selectedData.map(d => d.value))])\n\n        let yScale = d3.scaleBand()\n            .domain(d3.range(11))\n            .rangeRound([0, height])\n            .padding(0.1)\n        let geoAreas = selectedData.map(this.yAccessor)\n\n        d3.select('.year').text(startYear.slice(0, 10))\n\n        yScale.domain(geoAreas)\n        this.drawXAxis(svg, selectedData, undefined, xScale)\n        this.drawYAxis(svg, selectedData, undefined, yScale)\n        this.drawBars(svg, selectedData, undefined, xScale, yScale)\n        const interval = d3.interval(() => {\n            const t = d3.transition().duration(400)\n\n            startIndex += 1\n            selectedData = this.removeGeoAreasWithNoData(this.sortData(data[years[startIndex]])).slice(0, 10)\n\n            d3.select('.year').text(years[startIndex].slice(0, 10))\n\n            xScale.domain([0, d3.max(selectedData.map(d => d.value))])\n            yScale.domain(selectedData.map(this.yAccessor))\n            this.drawXAxis(svg, selectedData, t, xScale)\n            this.drawYAxis(svg, selectedData, t, yScale)\n            this.drawBars(svg, selectedData, t, xScale, yScale)\n\n            if (years[startIndex] === lastYear) {\n                interval.stop()\n            }\n        }, 500)\n        this.setState({ interval: interval })\n\n    }\n\n    restartGraph() {\n        const { interval } = this.state\n        if (interval) {\n            interval.stop()\n            this.drawChart()\n        }\n    }\n\n    render() {\n        return (\n            <Row>\n                <Col md={12} xl={12}>\n                    <Card>\n                        <Card.Body>\n                            <h6 className='mb-4'>\n                                What is the total number of confirmed cases?\n                            </h6>\n                            <Row>\n                                <Col md={12} xl={12}>\n                                    <Col md={8} xl={8}>\n                                        <h4 className=\"chart-title\">Date: <span className=\"year\"></span></h4>\n                                    </Col>\n                                    <Col md={4} xl={4}>\n                                        <Button variant=\"outline-primary\" onClick={this.restartGraph}>Restart</Button>{' '}\n                                    </Col>\n                                </Col>\n                            </Row>\n                            <div className=\"col-sm\">\n                            </div>\n                            <div className=\"wrapper\">\n                                <div className=\"chart\"></div>\n                                <p className=\"source\">Data source: The World Bank</p>\n                            </div>\n\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n        )\n    }\n}\n\nexport default RaceChart;","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nfunction createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.filter(function (f) {\n    return f != null;\n  }).reduce(function (acc, f) {\n    if (typeof f !== 'function') {\n      throw new Error('Invalid Argument Type, must only provide functions, undefined, or null.');\n    }\n\n    if (acc === null) return f;\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      acc.apply(this, args);\n      f.apply(this, args);\n    };\n  }, null);\n}\n\nexport default createChainedFunction;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport React from 'react';\nimport createChainedFunction from './utils/createChainedFunction';\nvar defaultProps = {\n  as: 'a'\n};\n\nfunction isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n/**\n * There are situations due to browser quirks or Bootstrap CSS where\n * an anchor tag is needed, when semantically a button tag is the\n * better choice. SafeAnchor ensures that when an anchor is used like a\n * button its accessible. It also emulates input `disabled` behavior for\n * links, which is usually desirable for Buttons, NavItems, DropdownItems, etc.\n */\n\n\nvar SafeAnchor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(SafeAnchor, _React$Component);\n\n  function SafeAnchor(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  var _proto = SafeAnchor.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    var _this$props = this.props,\n        disabled = _this$props.disabled,\n        href = _this$props.href,\n        onClick = _this$props.onClick;\n\n    if (disabled || isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (event.key === ' ') {\n      event.preventDefault();\n      this.handleClick(event);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        Component = _this$props2.as,\n        disabled = _this$props2.disabled,\n        onKeyDown = _this$props2.onKeyDown,\n        innerRef = _this$props2.innerRef,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"as\", \"disabled\", \"onKeyDown\", \"innerRef\"]);\n\n    if (isTrivialHref(props.href)) {\n      props.role = props.role || 'button'; // we want to make sure there is a href attribute on the node\n      // otherwise, the cursor incorrectly styled (except with role='button')\n\n      props.href = props.href || '#';\n    }\n\n    if (disabled) {\n      props.tabIndex = -1;\n      props['aria-disabled'] = true;\n    }\n\n    if (innerRef) props.ref = innerRef;\n    return React.createElement(Component, _extends({}, props, {\n      onClick: this.handleClick,\n      onKeyDown: createChainedFunction(this.handleKeyDown, onKeyDown)\n    }));\n  };\n\n  return SafeAnchor;\n}(React.Component);\n\nSafeAnchor.defaultProps = defaultProps;\nexport default SafeAnchor;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { createBootstrapComponent } from './ThemeProvider';\nimport SafeAnchor from './SafeAnchor';\n\nvar Button =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Button, _React$Component);\n\n  function Button() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Button.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        bsPrefix = _this$props.bsPrefix,\n        variant = _this$props.variant,\n        size = _this$props.size,\n        active = _this$props.active,\n        className = _this$props.className,\n        block = _this$props.block,\n        type = _this$props.type,\n        as = _this$props.as,\n        innerRef = _this$props.innerRef,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"bsPrefix\", \"variant\", \"size\", \"active\", \"className\", \"block\", \"type\", \"as\", \"innerRef\"]);\n\n    var classes = classNames(className, bsPrefix, active && 'active', bsPrefix + \"-\" + variant, block && bsPrefix + \"-block\", size && bsPrefix + \"-\" + size);\n\n    if (props.href) {\n      return React.createElement(SafeAnchor, _extends({}, props, {\n        as: as,\n        innerRef: innerRef,\n        className: classNames(classes, props.disabled && 'disabled')\n      }));\n    }\n\n    var Component = as || 'button';\n    if (innerRef) props.ref = innerRef;\n    return React.createElement(Component, _extends({}, props, {\n      type: type,\n      className: classes\n    }));\n  };\n\n  return Button;\n}(React.Component);\n\nButton.defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false,\n  type: 'button'\n};\nexport default createBootstrapComponent(Button, {\n  prefix: 'btn',\n  forwardRefAs: 'innerRef'\n});","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}"],"sourceRoot":""}
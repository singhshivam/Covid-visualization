(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{172:function(e,t,a){"use strict";var r=a(49),n=a(52),i=a(51),s=a(54),c=a.n(s),o=a(0),l=a.n(o),u=a(56),d=a(65);var h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];e.apply(this,r),t.apply(this,r)}},null)};function f(e){return!e||"#"===e.trim()}var p=function(e){function t(t,a){var r;return(r=e.call(this,t,a)||this).handleClick=r.handleClick.bind(Object(d.a)(Object(d.a)(r))),r.handleKeyDown=r.handleKeyDown.bind(Object(d.a)(Object(d.a)(r))),r}Object(i.a)(t,e);var a=t.prototype;return a.handleClick=function(e){var t=this.props,a=t.disabled,r=t.href,n=t.onClick;(a||f(r))&&e.preventDefault(),a?e.stopPropagation():n&&n(e)},a.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},a.render=function(){var e=this.props,t=e.as,a=e.disabled,i=e.onKeyDown,s=e.innerRef,c=Object(n.a)(e,["as","disabled","onKeyDown","innerRef"]);return f(c.href)&&(c.role=c.role||"button",c.href=c.href||"#"),a&&(c.tabIndex=-1,c["aria-disabled"]=!0),s&&(c.ref=s),l.a.createElement(t,Object(r.a)({},c,{onClick:this.handleClick,onKeyDown:h(this.handleKeyDown,i)}))},t}(l.a.Component);p.defaultProps={as:"a"};var v=p,m=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsPrefix,a=e.variant,i=e.size,s=e.active,o=e.className,u=e.block,d=e.type,h=e.as,f=e.innerRef,p=Object(n.a)(e,["bsPrefix","variant","size","active","className","block","type","as","innerRef"]),m=c()(o,t,s&&"active",t+"-"+a,u&&t+"-block",i&&t+"-"+i);if(p.href)return l.a.createElement(v,Object(r.a)({},p,{as:h,innerRef:f,className:c()(m,p.disabled&&"disabled")}));var b=h||"button";return f&&(p.ref=f),l.a.createElement(b,Object(r.a)({},p,{type:d,className:m}))},t}(l.a.Component);m.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};t.a=Object(u.a)(m,{prefix:"btn",forwardRefAs:"innerRef"})},258:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a(8),i=a(10),s=a(9),c=a(22),o=a(11),l=a(0),u=a.n(l),d=a(247),h=a(248),f=a(267),p=a(172),v=a(60),m=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(i.a)(this,Object(s.a)(t).call(this,e));var n={top:20,right:30,bottom:40,left:100},o=960-n.left-n.right,l=400-n.top-n.bottom;return a.state={data:{},margin:n,width:o,height:l,leftPadding:5,colorMap:{}},a.fetchCSV=a.fetchCSV.bind(Object(c.a)(a)),a.prepareData=a.prepareData.bind(Object(c.a)(a)),a.drawChart=a.drawChart.bind(Object(c.a)(a)),a.drawXAxis=a.drawXAxis.bind(Object(c.a)(a)),a.drawBars=a.drawBars.bind(Object(c.a)(a)),a.restartGraph=a.restartGraph.bind(Object(c.a)(a)),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.fetchCSV()}},{key:"fetchCSV",value:function(){var e=this;v.c("".concat(window.appURL,"/animated.csv")).then(function(t){var a=e.state,r=a.height,n=(a.width,a.margin),i=e.prepareData(t),s={};t.forEach(function(e){s[e.Country]=v.g(360*Math.random(),.75,.75)});var c=v.v(".chart").append("svg").attr("width","100%").attr("height",r+n.top+n.bottom).append("g").attr("transform","translate(".concat(n.left,",").concat(n.top,")"));e.setState({data:i,colorMap:s,svg:c}),e.drawChart()})}},{key:"prepareData",value:function(e){return e.reduce(function(e,t){return Object.keys(t).forEach(function(a){if(r=a,"Invalid Date"!==new Date(r)&&!isNaN(new Date(r))){var r,n={value:+t[a],geoName:t.Country};e[a]?e[a].push(n):e[a]=[n]}}),e},{})}},{key:"removeGeoAreasWithNoData",value:function(e){return e.filter(function(e){return e.value})}},{key:"xAccessor",value:function(e){return e.value}},{key:"yAccessor",value:function(e){return e.geoName}},{key:"delay",value:function(e,t){return 5*t}},{key:"sortData",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(function(e,t){return t.value-e.value})}},{key:"drawXAxis",value:function(e,t,a,r){var n=this.state,i=n.leftPadding,s=n.height,c=e.select(".axis--x");c.empty()&&(c=e.append("g").attr("class","axis axis--x").attr("transform","translate(".concat(i,",").concat(s,")"))),c.transition(a).call(v.a(r)).selectAll("g").delay(this.delay)}},{key:"drawYAxis",value:function(e,t,a,r){var n=e.select(".axis--y");n.empty()&&(n=e.append("g").attr("class","axis axis--y")),n.transition(a).call(v.b(r)).selectAll("g").delay(this.delay)}},{key:"drawBars",value:function(e,t,a,r,n){var i=this,s=this.state,c=s.leftPadding,o=s.colorMap,l=e.select(".bars-g");l.empty()&&(l=e.append("g").attr("class","bars-g"));var u=l.selectAll(".bar").data(t,this.yAccessor);u.exit().remove(),u.enter().append("rect").attr("class","bar").attr("x",c).merge(u).transition(a).attr("y",function(e){return n(i.yAccessor(e))}).attr("width",function(e){return r(i.xAccessor(e))}).attr("height",n.bandwidth()).style("fill",function(e){return o[e.geoName]}).delay(this.delay)}},{key:"drawChart",value:function(){var e=this,t=this.state,a=t.data,r=t.height,n=t.width,i=(t.margin,t.svg);if(i){var s=Object.keys(a).map(function(e){return e}),c=s[s.length-1];i.selectAll("*").remove();var o=0,l=s[0],u=this.removeGeoAreasWithNoData(this.sortData(a[l])).slice(0,10),d=v.p().range([0,n]).domain([0,v.k(u.map(function(e){return e.value}))]),h=v.o().domain(v.n(11)).rangeRound([0,r]).padding(.1),f=u.map(this.yAccessor);v.v(".year").text(l.slice(0,10)),h.domain(f),this.drawXAxis(i,u,void 0,d),this.drawYAxis(i,u,void 0,h),this.drawBars(i,u,void 0,d,h);var p=v.h(function(){var t=v.z().duration(400);o+=1,u=e.removeGeoAreasWithNoData(e.sortData(a[s[o]])).slice(0,10),v.v(".year").text(s[o].slice(0,10)),d.domain([0,v.k(u.map(function(e){return e.value}))]),h.domain(u.map(e.yAccessor)),e.drawXAxis(i,u,t,d),e.drawYAxis(i,u,t,h),e.drawBars(i,u,t,d,h),s[o]===c&&p.stop()},500);this.setState({interval:p})}}},{key:"restartGraph",value:function(){var e=this.state.interval;e&&(e.stop(),this.drawChart())}},{key:"render",value:function(){return u.a.createElement(d.a,null,u.a.createElement(h.a,{md:12,xl:12},u.a.createElement(f.a,null,u.a.createElement(f.a.Body,null,u.a.createElement("h6",{className:"mb-4"},"What is the total number of confirmed cases?"),u.a.createElement(d.a,null,u.a.createElement(h.a,{md:12,xl:12},u.a.createElement(h.a,{md:8,xl:8},u.a.createElement("h4",{className:"chart-title"},"Date: ",u.a.createElement("span",{className:"year"}))),u.a.createElement(h.a,{md:4,xl:4},u.a.createElement(p.a,{variant:"outline-primary",onClick:this.restartGraph},"Restart")," "))),u.a.createElement("div",{className:"col-sm"}),u.a.createElement("div",{className:"wrapper"},u.a.createElement("div",{className:"chart"}),u.a.createElement("p",{className:"source"},"Data source: The World Bank"))))))}}]),t}(u.a.Component);t.default=m},65:function(e,t,a){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a.d(t,"a",function(){return r})}}]);
//# sourceMappingURL=12.5b5bfab5.chunk.js.map